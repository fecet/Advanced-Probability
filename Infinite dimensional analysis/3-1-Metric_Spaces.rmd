
::: {.definition  name="metric/distance"}

A metric on a set $X$ is a function $d:X\times X\to \mathbb{R}$ satisfying:
- $d(x,y)\ge 0$ and $d(x,x)=0$ for all $x,y\in X$ 
- $d(x,y)=0\implies x=y$ 
- $d(x,y)=d(y,x)$ for all $x,y\in X$ 
- $d(x,y)\le d(y,z)+d(x,z)$ for all $x,y,z\in X$

A semimetric on $X$ is a function $d:X\times X\to \mathbb{R}$ which satisfies the condition 1,3,4.  
If $d$ is a metric on $X$, then $(X,d)$ is called a metric space.

:::

Give a metric space $(X,d)$, and $A\subset X$, we said the diameter of $A$ is 
$$ 
\text{diam} A=\sup\{d(x,y):x,y\in A\}
$$
A set $A$ is bounded if $\text{diam}A\lt\infty$ while $A$ is unbounded if $\text{diam}A=\infty$.


::: {.definition  name=""}

Let $(X,d)$ be a semimetric space. $A\subset X$ is d-open if for each $a\in A$ there exists some $r>0$ s.t. $B_r(a)\subset A$.  
Then consider about the family $\{A\subset X:A\text{ is d-open}\}$, it generates a topology on $X$, denoted as $\tau_d$.

:::

::: {.lemma  name=""}

Let $(X,d)$ be a semimetric space. Then:
1. $(X,\tau_d)$ is Hausdorff space iff $d$ is a metric
2. A sequence $(x_n)$ in $X$ satisfies $x_n\to x$ in $(X,\tau_{d})$ iff $d(x_n,x)\to 0$
3. Every $d$-open ball is an open set
4. The topology $\tau_d$ is first countable
5. A point $x\in \overline{A}$ of some $A\subset X$ iff there exists some sequence $(x_n)$ in $A$ with $(x_n)\to x$.
6. A closed ball is a closed set.
7. The closure of the open ball $B_r(	x)$ is included in the closed ball $C_r(x)$.
8. If $(X,d_1)$ and $(Y,d_2)$ are semimetric spaces, the product topology on $X\times Y$ is generated by the semimetric 
$$ 
D((x,y),(u,v))=d_1(x,u)+d_2(y,v)
$$
9. For any four points $u,v,x,y$ the semimetric obeys: 
$$ 
\lvert d(x,y)-d(u,v) \rvert\le d(x,u)+d(y,v)
$$
10. The real funtion $d:X\times X\to \mathbb{R}$ is jointly continuous.


:::

::: {.definition  name=""}

- A subset $A$ is called $d$-open if it there is a open ball $B_r^{d}(x)\subset A$ for every $x\in A$.
- A topology $\tau_d$ is **generated by $d$** if $\tau_d=\{A\subset X:A\text{ is }d\text{-open}\}$
- Two metrics is called equivalent if the topology they generated are the same. 

:::

::: {.lemma  name=""}

A metrizable space is separable iff it is second countable.

:::

::: {.proof}

Let $(X,\tau_{})$ is a second countable space. There exists a topology base $\mathcal{B}=\{B_{i}:i=1,2,\ldots\}$, let $A=\{x_{i}:i=1,2,\ldots\}$ where $x_{i}\in B_{i}$ is arbitrary get. Then it is easy to show that $\overline{A}=X$ which means every give any point  $x\in X$, $U\in \mathcal{N_x}$, $U$ intersects $A$. Notice that for any open set $U$, there is some  $B_i\in \{B_{i}\}$ s.t. $B_{i}\subset U$. Now give some $x\notin A$, let $U_x\in \mathcal{N_x}$, then $B_{i}\subset U_x$ for some $i$, and there is at least a point $x_{i}\in B_{i}$ s.t. $U_x\cap A\supset\{x_{i}\}\neq \varnothing$.  
Let $(X,d)$ is a metric space and $(X,\tau_{d})$ is a topological space generated by $d$. Let $A=\{x_{i}:i=1,2,\ldots\}$ be a countable dense subset in $X$. Then the collection $\{B_{\frac{1}{n}}(x):x\in A,n\in \mathbb{N}\}$ of $d$-open balls is a countable base for the topology $\tau$.

:::

::: {.definition  name="completeness"}

A **Cauchy Sequence** in a metric space $(X,d)$is a sequence $(x_n)$ s.t. for each $\epsilon>0$ there exists some $n_0$ satisfying $d(x_n,x_m)\lt \epsilon$ for all $n,m\ge n_0$, or equivalently if $\lim _{n,m\to \infty}d(x_m,x_n)=0$ or also equivalently if $\lim _{n\to \infty}\text{diam}\{x_n,x_{n+1},\ldots\}=0$.  
A metric space $(X,d)$ is **complete** if every Cauchy sequence in $X$ converges in $X$, in which case we say that $d$ is a **complete metric** on $X$.  
A topological space $x$ is **completely metrizable** if there exists a consistent metric $d$ for which  $(X,d)$ is complete. A separable topological space that is completely metrizable is called **Polish space**.

:::

::: {.definition  name="uniform metric"}

If $X$ is a nonempty set, then the vector space $B(X)$ of all bounded real functions on $X$ is a complete metric space under the **uniform metric** defined by 
$$ 
d(f,g)=\sup_{x\in X}\lvert f(x)-g(x) \rvert
$$
It is clear that a sequence $(f_n)$ in $B(X)$ is $d$-convergent to $f\in B(X)$ iff it converges uniformly to $f$.


:::

::: {.proposition  name=""}

Let $(X,d)$ be an arbitrary metric space. Then the metric $\rho(x,y)=\frac{d(x,y)}{1+d(x,y)}$ is a bounded equivalent metric taking values on $[0,1)$.  
 $\rho$ and $d$ has the same Cauchy sequences, and  $(X,d)$ is complete iff $(X,\rho)$ is complete.

:::

Let us say that a sequence $(A_n)$ of nonempty sets has vanishing diameter if 
$$ 
\lim _{n\to \infty}\text{diam}A_n=0
$$

::: {.theorem  name="Cantor's Intersection Theorem"}

In a complete metric space, if a decreasing sequence of nonempty closed subsets has vanishing diameter, then the intersection of the sequence is a singleton.

:::

::: {.proof}

Let $(F_n)$ be a decreasing sequence which means  $F_{n+1}\subset F_n$ holds for every $n$ of nonempty closed subsets of the complete metric space $(X,d)$, and let $\lim _{n\to \infty}\text{diam}F_n=0$. Give $F=\bigcap_{n=1} ^{\infty}F_n$, assume that  there are more than one point in $F$, suppose $a,b\in F$, then $d(a,b)\le \text{diam}F$, it implies that $d(a,b)=0$.As $d$ is a metric, $a=b$.  
Now we just need to prove that $F$ is a nonempty set. For each $n$ pick $x_n\in F_n$, since $d(x_n,x_m)\le \text{diam}F_n$ for $m\ge n$, the sequence $(x_n)$ is Cauchy. As $X$ is a complete metric space, there is some $x\in X$ s.t. $(x_n)\to x$. Since $(F_n)$ is decreasing, $x_m\in F_n$ for every $m\ge n$, let $m\to \infty$, as $F_n$ is closed, it contains all its accumulation point, so  $\lim _{m\to \infty}x_m\in F_n$ for every $n$, so $\bigcap_{n=1} ^{\infty}F_n$ is nonempty.

:::

Continuous images may preserve the vanishing diameter property.

::: {.proposition  name=""}

Let $(A_n)$ be a sequence of subsets in a metric space $(X,d)$ s.t. $\bigcap_{n=1}^{\infty} A_n$ is nonempty. If $f:(X,d)\to (Y,\rho)$ is a continuous function and $(A_n)$ has vanishing $d$-diameter, then $(f(A_n))$ has vanishing $\rho$-diameter.

:::


::: {.proof}

Since $(A_n)$ has vanishing diameter and $\bigcap_{n=1} ^{\infty}A_n$ is nonempty, then $\bigcap_{n=1} ^{\infty}A_n$ must be a singleton, namely $\{x\}$. As $f$ is continuous, give $\epsilon>0$, there exists $\delta>0$ when $d(x,z)\lt \delta$ it implies that $\rho(f(x),f(z))<\epsilon$.   
Also there is some $n_0$ s.t. for $n\ge n_0$ if $z\in A_n$, $d(z,x)<\delta$, so $f(A_n)\subset B(2\epsilon)$. So the series $(f(A_n))$ has vanishing $\rho$ diameter and $\bigcap_{n=1} ^{\infty}f(A_n)=\{f(x)\}$.

:::


::: {.definition  name="Uniformly Continuous"}

A function is called uniformly continuous if for each $\epsilon>0$, there exists some $\delta>0$ s.t. $d(x,y)<\delta\implies \rho(f(x),f(y))<\epsilon$ for every $x,y\in X$.

:::

::: {.definition  name="Lipschitz continuous"}

A function $f:(X,d)\to (Y,\rho)$ is called Lipschitz continuous if for every $x,y\in X$:
$$ 
\rho(f(x),f(y))\le c d(x,y)
$$
The number $c$ is called **Lipschitz constant** for $f$. Every Lipschitz continuous function is uniformly continuous.

:::

::: {.definition  name="isometry"}

An isometry between $(X,d)$ and $(Y,\rho)$ is a one-to-one function $\phi:X\to Y$ satisfying:

$$ 
d(x,y)=\rho(\phi(x),\phi(y))
$$
for all $x,y\in X$.
If $\phi$ is one-to-one and onto, then $(X,d)$ and $(Y,\rho)$ is said to be isometric.  
Notice that the isometry is uniform continuous, indeed, Lipschitz continuous.


:::

::: {.proposition  name=""}

Let $\phi:(X,d)\to Y$ to be one-to-one and onto, then $\phi$ is induces a metric on $Y$ s.t. $\rho(u,v)=d(\phi^{-1}(u),\phi^{-1}(v))$. Furthermore, $\phi:(X,d)\to (Y,\rho)$ is a isometry

:::

::: {.proposition  name=""}

If $X$ is metrizable and $\rho$ is a compatible metric on $X$, then the vector space $U_{\rho}(X)$ of all bounded $\rho$-uniformly continuous real functions on $X$ is a closed subspace of $U_
ho(X)$. Thus $U_\rho(X)$ equipped with the uniform metric is a complete metric space in its own right.

:::

::: {.proof}

Notice that $X$ is metrizable means $X$ is first countable and in a first countable space, a point $x\in A$ which satisfies $x\in \overline{A}$ iff there is a sequence $(x_n)$ in $A$ s.t. $x_n\to x$. And a sequence of uniform continuous function will converge to a uniform continuous function. So $\overline{U_{\rho}(X)}=U_{\rho}(X)$ which means $U_{\rho}(X)$ is closed.

:::

::: {.lemma  name="Uniformly continuous extensions"}

Let $A$ be a nonempty subset of $(X,d)$. Let $\phi:(A,d)\to (Y,\rho)$ be a uniformly continuous function. Assume that $(Y,\rho)$ is complete. Then $\phi$ has a uniformly continuous extension $\phi'$ to the $\overline{A}$. Moreover, the extension $\phi'=\overline{A}\to Y$ is given by 
$$ 
\phi'(x)=\lim _{n\to \infty}\phi(x_n)
$$
for any $(x_n)\subset A$ satisfying $x_n\to x$.  
In particular, if $Y=\mathbb{R}$, then $\|\phi\|_{\infty}=\|\phi'\|_\infty$.


:::

::: {.proof}

Notice that a sequence $(x_n)\to x$ in $(X,d)$ must be d-Cauchy, for as $(x_n)\to x$, give a $\epsilon>0$, there exists  $n_0$ when $n>n_0$, $d(x,x_n)<\epsilon$. Now suppose that $m\ge n$, then $d(x_m,x)<\epsilon$ and as the triangle inequality, $d(x_m,x_n)\le d(x_m,x)+d(x_n,x)<2\epsilon$, so $\lim _{m\to \infty,m\ge n}d(x_m,x_n)=0$.  
Then we need to show that a uniformly continuous function carries a $d$-Cauchy sequence to a $\rho$-Cauchy sequence. Let $\phi$ be a uniformly continuous function and $(x_n)\to x$ be a Cauchy sequence. Give $\epsilon>0$, then there exists $\delta>0$ when $d(x_n,x_m)<\delta$, $\rho(\phi(x_n),\phi(x_m))<\epsilon$. Give $n_0(\delta)$, then for all $m,n\ge n_0$, $d(x_m,x_n)<\delta$, which means give $\epsilon>0$, there exists $n_0(\delta)$ s.t. for any $m,n\ge n_0(\delta)$, $\rho(\phi(x_n),\phi(x_m))<\epsilon$, which means $(\phi(x_n))$ is $\rho$-Cauchy.  
Then we begin our proof. Let $x\in \overline{A}$ and pick a sequence $(x_n)\to x$ in $A$. Since $(x_n)$ converges, $(x_n)$ is $d$-Cauchy, and as $\phi$ is uniformly continuous, then $(\phi(x_n))$ is $\rho$-Cauchy. Since $Y$ is complete, there are some $y\in Y$ s.t. $\phi(x_n)\to y$.  
$y$ is independent of particular $(x_n)$. To prove this, let $(z_n)$ be another sequence converging to $x$. Then $\{x_1,z_1,x_2,z_2,\ldots\}$ is a new sequence which is $d$-Cauchy and converges to $x$. Notice that $\{\phi(x_1),\phi(z_1),\phi(x_2),\phi(z_2),\ldots\}$ is also $\rho$-Cauchy and since $\phi(x_n)$ is a convergent subsequence and its limit is $y$, the sequence above is $y$ again which implies that $(\phi(z_n))\to y$ too.  
It is easy to show that $\phi'$ is uniformly continuous on $\overline{A}$ by particularly prove that $\phi'$ on $\text{boundary}(A)$ is continuous.

:::

::: {.lemma  name=""}

Let $(X,d)$ be a metric space, let $d_1$ is a new metric on $X$. Then $d$ is equivalent to $d_1$ iff a sequence $(x_n)\to x$ in $d$ iff it converges to $x$ in $d_1$, namely $d(x_n,x)\to 0\iff d_1(x_n,x)\to 0$

:::

::: {.proof}



:::

::: {.lemma  name=""}

If $f:(X,d)\to (Y,\rho)$ is a continuous function between metric spaces, then there exists an equivalent metric $d_1$ on $X$ s.t. $f:(X,d_1)\to (Y,\rho)$ is Lipschitz continuous.

:::

::: {.proof}

Define $d_1(x,y)=d(x,y)+\rho(f(x),f(y))$. Give a $d$-open subset $U\subset X$, it means every point $x\in X$, there exists $r>0$ s.t. $B_r(x)\subset U$, we would show that 

:::

















